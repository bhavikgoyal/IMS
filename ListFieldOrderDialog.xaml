<Window x:Class="IMS.ListFieldOrderDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:IMS"
        mc:Ignorable="d"
        Height="220" Width="420"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        FontFamily="Segoe UI">
  <Window.Resources>
    <!-- यहाँ आपको अपने TitleBarButtonStyle और Primary/Secondary ButtonStyles को फिर से परिभाषित करना होगा 
             या उन्हें अपनी मुख्य विंडो से साझा (share) करने के तरीके खोजने होंगे (जैसे MergedDictionaries का उपयोग करके)
             अभी के लिए, मैं TitleBarButtonStyle और Primary/SecondaryButtonStyle के placeholders दे रहा हूँ।
             अगर आप चाहते हैं कि ये स्टाइल इस डायलॉग में भी काम करें, तो आपको इन्हें यहाँ कॉपी-पेस्ट करना होगा। -->

    <!-- Custom Title Bar Buttons Style - Copy from your main window's Window.Resources -->
    <Style x:Key="TitleBarButtonStyle" TargetType="{x:Type Button}">
      <Setter Property="Width" Value="35"/>
      <Setter Property="Height" Value="30"/>
      <Setter Property="Background" Value="Transparent"/>
      <Setter Property="Foreground" Value="White"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="FontSize" Value="14"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="{x:Type Button}">
            <Border Background="{TemplateBinding Background}">
              <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="#FF505050"/>
              </Trigger>
              <Trigger Property="IsPressed" Value="True">
                <Setter Property="Background" Value="#FF707070"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- Modern Primary Button Style - Copy from my previous response -->
    <Style x:Key="PrimaryButtonStyle" TargetType="{x:Type Button}">
      <Setter Property="Background" Value="#0078D7"/>
      <Setter Property="Foreground" Value="White"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="Padding" Value="15,8"/>
      <Setter Property="Height" Value="35"/>
      <Setter Property="FontSize" Value="14"/>
      <Setter Property="FontWeight" Value="SemiBold"/>
      <Setter Property="Cursor" Value="Hand"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="{x:Type Button}">
            <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
              <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="#006BBF"/>
              </Trigger>
              <Trigger Property="IsPressed" Value="True">
                <Setter Property="Background" Value="#005BA1"/>
              </Trigger>
              <Trigger Property="IsEnabled" Value="False">
                <Setter Property="Opacity" Value="0.6"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- Modern Secondary Button Style - Copy from my previous response -->
    <Style x:Key="SecondaryButtonStyle" TargetType="{x:Type Button}">
      <Setter Property="Background" Value="#E0E0E0"/>
      <Setter Property="Foreground" Value="#333333"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="Padding" Value="15,8"/>
      <Setter Property="Height" Value="35"/>
      <Setter Property="FontSize" Value="14"/>
      <Setter Property="FontWeight" Value="SemiBold"/>
      <Setter Property="Cursor" Value="Hand"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="{x:Type Button}">
            <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
              <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="#D0D0D0"/>
              </Trigger>
              <Trigger Property="IsPressed" Value="True">
                <Setter Property="Background" Value="#C0C0C0"/>
              </Trigger>
              <Trigger Property="IsEnabled" Value="False">
                <Setter Property="Opacity" Value="0.6"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- Style for a TextBox with a Border that changes color on focus/hover - Copy from my previous response -->
    <Style x:Key="FocusedBorderStyle" TargetType="{x:Type TextBox}">
      <Setter Property="FontSize" Value="14"/>
      <Setter Property="Foreground" Value="#333"/>
      <Setter Property="VerticalContentAlignment" Value="Center"/>
      <Setter Property="CaretBrush" Value="#0078D7"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="{x:Type TextBox}">
            <Border x:Name="OuterBorder"
                                BorderBrush="#CCC"
                                BorderThickness="1"
                                CornerRadius="5"
                                Padding="6.6,0,6.6,0"
                                Background="{TemplateBinding Background}">
              <ScrollViewer x:Name="PART_ContentHost" Focusable="False"
                                          HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Hidden"/>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter TargetName="OuterBorder" Property="BorderBrush" Value="#0078D7"/>
              </Trigger>
              <Trigger Property="IsKeyboardFocused" Value="True">
                <Setter TargetName="OuterBorder" Property="BorderBrush" Value="#0078D7"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

  </Window.Resources>
  <Border Background="#F5F7FA" CornerRadius="0"
            BorderBrush="Transparent" BorderThickness="1">
    <Border.Effect>
      <DropShadowEffect Color="#FFBBBBBB" Direction="270"
                                ShadowDepth="8" BlurRadius="25" Opacity="0.4"/>
    </Border.Effect>
    <Grid>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>

      <!-- Custom Title Bar for Dialog -->
      <Border Grid.Row="0" Background="#FF333333" CornerRadius="0"  MouseLeftButtonDown="Window_MouseLeftButtonDown">
        <Grid>
          <TextBlock Text="List Field Order" Margin="15,8,0,8"
                               Foreground="White" FontSize="16" FontWeight="SemiBold"
                               VerticalAlignment="Center"/>
          <Button Content="&#xE8BB;" Style="{StaticResource TitleBarButtonStyle}"
                   FontFamily="Segoe MDL2 Assets"
                            HorizontalAlignment="Right" VerticalAlignment="Center"
                            Click="CloseButton_Click_ForDialog" Background="#FFC0392B"
                            Margin="0,0,2,0"/>
        </Grid>
      </Border>

      <!-- Dialog Content Area -->
      <StackPanel Grid.Row="1" Margin="20">
        <TextBlock Text="Copy To List Index (Field Order from 0 To Number of Fields)"
                           Foreground="#333333" FontSize="16" TextWrapping="Wrap" Margin="0,0,0,15"/>

        

          <!-- Input TextBox -->
          <TextBox 
                             Style="{StaticResource FocusedBorderStyle}"
                             Height="35"
                             VerticalContentAlignment="Center"
                             HorizontalAlignment="Stretch"
                             Text="1"
                             Margin="0,0,10,0"/>

          <!-- Action Buttons -->
        <StackPanel  Orientation="Horizontal" Margin="0,10,10,0" HorizontalAlignment="Right">
            <Button Content="OK" Style="{StaticResource PrimaryButtonStyle}"
                                Width="80" Margin="0,0,10,0" Click="OkButton_Click_ForDialog"/>
            <Button Content="Cancel" Style="{StaticResource SecondaryButtonStyle}"
                                Width="80" Click="CancelButton_Click_ForDialog"/>
          </StackPanel>
      </StackPanel>
    </Grid>
  </Border>
</Window>